{% extends "base.html" %}

{% block content %}
<!-- Floating decorative icons -->
<div class="floating-icons">
    <div class="floating-icon" style="top: 15%; left: 10%; font-size: 2.5rem; opacity: 0.2; animation-delay: 0s;">âœˆï¸
    </div>
    <div class="floating-icon" style="top: 25%; right: 10%; font-size: 2rem; opacity: 0.15; animation-delay: 2s;">ğŸ—ºï¸
    </div>
    <div class="floating-icon" style="top: 60%; right: 5%; font-size: 2.5rem; opacity: 0.15; animation-delay: 1.5s;">ğŸŒ
    </div>
    <div class="floating-icon" style="bottom: 15%; right: 15%; font-size: 2rem; opacity: 0.2; animation-delay: 3s;">ğŸ’
    </div>
    <div class="floating-icon" style="top: 40%; left: 3%; font-size: 2rem; opacity: 0.15; animation-delay: 2.5s;">ğŸ”ï¸
    </div>
</div>

<main class="main-content">
    <!-- Hero Section -->
    <header class="hero">
        <div class="hero-glow animate-glow"></div>

        <!-- AI Badge -->
        <div class="ai-badge animate-fadeIn">
            <span class="pulse-dot">
                <span class="ping"></span>
                <span class="dot"></span>
            </span>
            <span class="badge-text">AI-Powered Trip Planning</span>
            <span>âœ¨</span>
        </div>

        <!-- Main heading -->
        <h1>
            <span>Discover Your</span>
            <br>
            <span class="hero-gradient">Dream Destination</span>
        </h1>

        <!-- Subtitle -->
        <p>
            Let AI craft your <span class="highlight-purple">perfect itinerary</span> with
            real-time weather, smart scheduling, and personalized recommendations â€”
            all in <span class="highlight-blue">minutes</span>.
        </p>

        <!-- Feature cards -->
        <div class="feature-cards">
            <span class="feature-card weather">
                <span class="icon">ğŸŒ¤ï¸</span>
                <span>Weather-Aware</span>
            </span>
            <span class="feature-card routing">
                <span class="icon">ğŸ“</span>
                <span>Smart Routing</span>
            </span>
            <span class="feature-card budget">
                <span class="icon">ğŸ’°</span>
                <span>Budget Planning</span>
            </span>
            <span class="feature-card ai">
                <span class="icon">âœ¨</span>
                <span>AI Personalized</span>
            </span>
        </div>
    </header>

    <!-- Form Section -->
    <section id="form-section">
        <form id="trip-form" class="animate-fadeIn">
            <!-- Destination & Dates -->
            <div class="glass-card">
                <div class="section-header">
                    <div class="icon-wrapper purple">ğŸ“</div>
                    <div>
                        <h3>Where & When</h3>
                        <p>Choose your destination and travel dates</p>
                    </div>
                </div>

                <div class="form-grid">
                    <!-- Trip Type Toggle -->
                    <div class="trip-type-toggle">
                        <button type="button" class="type-btn active" id="type-single"
                            onclick="toggleTripType('single')">Single Destination</button>
                        <button type="button" class="type-btn" id="type-multi"
                            onclick="toggleTripType('multi')">Multi-City Road Trip</button>
                    </div>

                    <div class="form-group">
                        <label>Destinations</label>
                        <div id="destinations-container">
                            <div class="destination-row">
                                <span class="input-icon">1</span>
                                <input type="text" name="destination[]" class="destination-input"
                                    placeholder="e.g., Tokyo, Japan" required>
                            </div>
                        </div>
                        <button type="button" id="add-dest-btn" class="btn-text hidden" onclick="addDestinationInput()">
                            <span>+</span> Add Another Stop
                        </button>
                    </div>

                    <div class="form-group">
                        <label for="origin">Origin (Optional)</label>
                        <div class="input-wrapper">
                            <span class="input-icon">ğŸ </span>
                            <input type="text" id="origin" name="origin" placeholder="e.g., New York, USA">
                        </div>
                    </div>

                    <div class="form-grid cols-2">
                        <div class="form-group">
                            <label for="start_date">Start Date</label>
                            <input type="date" id="start_date" name="start_date" required>
                        </div>
                        <div class="form-group">
                            <label for="end_date">End Date</label>
                            <input type="date" id="end_date" name="end_date" required>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Travelers -->
            <div class="glass-card">
                <div class="section-header">
                    <div class="icon-wrapper blue">ğŸ‘¥</div>
                    <div>
                        <h3>Travelers</h3>
                        <p>Who's joining the adventure?</p>
                    </div>
                </div>

                <div class="form-grid cols-2">
                    <div class="form-group">
                        <label>Adults</label>
                        <div class="number-stepper">
                            <button type="button" onclick="adjustNumber('adults', -1)">âˆ’</button>
                            <input type="number" id="adults" name="adults" value="2" min="1" max="10">
                            <button type="button" onclick="adjustNumber('adults', 1)">+</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Children</label>
                        <div class="number-stepper">
                            <button type="button" onclick="adjustNumber('children', -1)">âˆ’</button>
                            <input type="number" id="children" name="children" value="0" min="0" max="10">
                            <button type="button" onclick="adjustNumber('children', 1)">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Budget -->
            <div class="glass-card">
                <div class="section-header">
                    <div class="icon-wrapper emerald">ğŸ’°</div>
                    <div>
                        <h3>Budget</h3>
                        <p>Set your spending limits</p>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-grid cols-2">
                        <div class="form-group">
                            <label for="currency">Currency</label>
                            <select id="currency" name="currency">
                                <option value="USD">ğŸ‡ºğŸ‡¸ USD</option>
                                <option value="EUR">ğŸ‡ªğŸ‡º EUR</option>
                                <option value="GBP">ğŸ‡¬ğŸ‡§ GBP</option>
                                <option value="JPY">ğŸ‡¯ğŸ‡µ JPY</option>
                                <option value="INR">ğŸ‡®ğŸ‡³ INR</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="total_budget">Total Budget</label>
                            <input type="number" id="total_budget" name="total_budget" value="3000" min="100"
                                step="100">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="comfort_level">Comfort Level</label>
                        <select id="comfort_level" name="comfort_level">
                            <option value="budget">ğŸ’ Budget - Hostels, street food, public transport</option>
                            <option value="midrange" selected>ğŸ¨ Midrange - Hotels, restaurants, some taxis</option>
                            <option value="luxury">ğŸ’ Luxury - Premium hotels, fine dining, private transfers</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Activity Preferences -->
            <div class="glass-card">
                <div class="section-header">
                    <div class="icon-wrapper orange">ğŸ¯</div>
                    <div>
                        <h3>Interests & Preferences</h3>
                        <p>What kind of experiences are you looking for?</p>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label>Interests (click to select)</label>
                        <div class="toggle-group" id="interests-group">
                            <button type="button" class="toggle-btn" data-value="culture">ğŸ›ï¸ Culture</button>
                            <button type="button" class="toggle-btn" data-value="food">ğŸœ Food</button>
                            <button type="button" class="toggle-btn" data-value="history">ğŸ“š History</button>
                            <button type="button" class="toggle-btn" data-value="nature">ğŸŒ¿ Nature</button>
                            <button type="button" class="toggle-btn" data-value="adventure">ğŸ§— Adventure</button>
                            <button type="button" class="toggle-btn" data-value="nightlife">ğŸŒ™ Nightlife</button>
                            <button type="button" class="toggle-btn" data-value="shopping">ğŸ›ï¸ Shopping</button>
                            <button type="button" class="toggle-btn" data-value="art">ğŸ¨ Art</button>
                            <button type="button" class="toggle-btn" data-value="relaxation">ğŸ§˜ Relaxation</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="pace">Travel Pace</label>
                        <select id="pace" name="pace">
                            <option value="slow">ğŸ¢ Slow - Few activities, lots of downtime</option>
                            <option value="moderate" selected>ğŸš¶ Moderate - Balanced activities and rest</option>
                            <option value="fast">ğŸƒ Fast - Pack in as much as possible</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Food Preferences -->
            <div class="glass-card">
                <div class="section-header">
                    <div class="icon-wrapper orange">ğŸ½ï¸</div>
                    <div>
                        <h3>Dining Preferences</h3>
                        <p>Any food preferences or restrictions?</p>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label>Cuisines (click to select)</label>
                        <div class="toggle-group" id="cuisines-group">
                            <button type="button" class="toggle-btn" data-value="local">ğŸ  Local</button>
                            <button type="button" class="toggle-btn" data-value="asian">ğŸœ Asian</button>
                            <button type="button" class="toggle-btn" data-value="western">ğŸ Western</button>
                            <button type="button" class="toggle-btn" data-value="street_food">ğŸ¥¡ Street Food</button>
                            <button type="button" class="toggle-btn" data-value="fine_dining">ğŸ· Fine Dining</button>
                            <button type="button" class="toggle-btn" data-value="vegetarian">ğŸ¥— Vegetarian</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Dietary Restrictions (click to select)</label>
                        <div class="toggle-group" id="dietary-group">
                            <button type="button" class="toggle-btn" data-value="vegetarian">ğŸ¥¬ Vegetarian</button>
                            <button type="button" class="toggle-btn" data-value="vegan">ğŸŒ± Vegan</button>
                            <button type="button" class="toggle-btn" data-value="halal">â˜ªï¸ Halal</button>
                            <button type="button" class="toggle-btn" data-value="kosher">âœ¡ï¸ Kosher</button>
                            <button type="button" class="toggle-btn" data-value="gluten_free">ğŸŒ¾ Gluten-Free</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Accommodation -->
            <div class="glass-card">
                <div class="section-header">
                    <div class="icon-wrapper purple">ğŸ¨</div>
                    <div>
                        <h3>Accommodation</h3>
                        <p>Where would you like to stay?</p>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="lodging_type">Accommodation Type</label>
                        <select id="lodging_type" name="lodging_type">
                            <option value="any">ğŸ¨ Any Type</option>
                            <option value="hotel">ğŸ¢ Hotel</option>
                            <option value="hostel">ğŸ›ï¸ Hostel</option>
                            <option value="apartment">ğŸ  Apartment</option>
                            <option value="boutique">ğŸ’ Boutique</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Max Distance from City Center</label>
                        <div class="range-wrapper">
                            <input type="range" id="max_distance" name="max_distance" min="1" max="20" value="5">
                            <span class="range-value" id="distance-value">5 km</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Schedule -->
            <div class="glass-card">
                <div class="section-header">
                    <div class="icon-wrapper blue">â°</div>
                    <div>
                        <h3>Daily Schedule</h3>
                        <p>When do you like to start and end your days?</p>
                    </div>
                </div>

                <div class="form-grid cols-2">
                    <div class="form-group">
                        <label for="daily_start">Start Time</label>
                        <input type="time" id="daily_start" name="daily_start" value="09:00">
                    </div>
                    <div class="form-group">
                        <label for="daily_end">End Time</label>
                        <input type="time" id="daily_end" name="daily_end" value="20:00">
                    </div>
                </div>

                <div class="form-group" style="margin-top: 1.5rem;">
                    <label for="notes">Additional Notes</label>
                    <textarea id="notes" name="notes"
                        placeholder="Any special requests, celebrations, must-sees, or accessibility needs..."></textarea>
                </div>
            </div>

            <!-- Submit -->
            <button type="submit" class="btn-submit" id="submit-btn">
                <span>â–¶</span>
                <span>Generate My Itinerary</span>
                <span class="shimmer"></span>
            </button>
        </form>

        <!-- Test Data & Demo buttons -->
        <div class="test-buttons-container">
            <button type="button" class="demo-link fill-test-btn" id="fill-test-btn">
                <span>ğŸ§ª</span>
                <span>Fill Test Data</span>
            </button>
            <button type="button" class="demo-link" id="demo-btn">
                <span>ğŸ‘€</span>
                <span>Preview with Demo Data</span>
            </button>
        </div>
    </section>

    <!-- Loading State -->
    <section id="loading-section" class="hidden">
        <div class="loading-container animate-fadeIn">
            <div class="loading-card">
                <div class="loading-spinner">
                    <div class="ring outer"></div>
                    <div class="ring inner"></div>
                    <div class="ring reverse"></div>
                    <span class="center-icon">âœˆï¸</span>
                </div>
                <div class="loading-text">
                    <h3>Crafting your adventure...</h3>
                    <p>Our AI is planning the perfect trip for you</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Error State -->
    <section id="error-section" class="hidden">
        <div class="error-container animate-fadeIn">
            <div class="error-content">
                <div class="error-icon">âš ï¸</div>
                <div class="error-text">
                    <h3>Oops! Something went wrong</h3>
                    <p id="error-message">An unexpected error occurred.</p>
                    <button type="button" id="retry-btn">â† Try Again</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Result Section -->
    <section id="result-section" class="hidden">
        <!-- Dynamically populated by JavaScript -->
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="powered-by">
            <span>Powered by</span>
            <span class="gemini">Gemini AI</span>
            <span>â€¢</span>
            <span>Built with ğŸ’œ for travelers</span>
        </div>
    </footer>
</main>
{% endblock %}